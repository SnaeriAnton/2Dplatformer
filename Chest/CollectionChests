using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class CollectionChests : MonoBehaviour
{
    private ChestSprite[] _countChests;
    private int _countChestsCollected;

    private void OnEnable()
    {
        _countChests = gameObject.GetComponentsInChildren<ChestSprite>();
        Debug.Log($"Соберите {_countChests.Length} сундуков!");
    }

    public void Collection(bool statusChest)
    {
        if (statusChest == true)
        {
            _countChestsCollected++;
            Debug.Log(_countChestsCollected);
            CheckWin();
        }
    }

    private void CheckWin()
    {
        if (_countChestsCollected == _countChests.Length)
        {
            Debug.Log("You are winner!");
            Time.timeScale = 0;
        }
    }
}
